A set of toy/template GEGL filters.
And a containerized build environment for same.

Work in progress. For education, not production quality.
The artifacts of my learning exercise.

## About this repo

My goal was to write the Canny filter in GEGL, 
to learn how to write GEGL filters.

Along the way, I left behind some template filters.

You can try the GEGL filters in the GIMP app.

The result demonstrates some of the features of GEGL/GIMP:
* real time feedback/previews when tweaking parameters of a filter
* module/component nature of plugins and filters
* duality of sequential filters and layer effects

Duality: when the primitive filters are in GEGL,
you could just as well implement the Canny filter,
which is essentially a sequence of the primitives,
by an appropriate sequence of layer effects (since GIMP v3.)

### Containerized build

I use a containerized build environment.
See vagga.yaml.
It documents a build environment for GEGL filters.

### Example filters

The examples directory contains:

* some GEGL filters from tutorials.
*a set of template plugins for GEGL filters
of various classes (meta, point, area.)

### Canny filter

The "canny" directory contains:
* the Canny filter
* primitives upporting it (besides those already in GEGL)

I ported the Canny filter (a useful, well-known algorithm) to GEGL.
Canny is a sequence of more primitive operations.
Which fits the GEGL meta filter model.
The Canny filter is not in the GEGL project's set of filters.
Some of its primitive operations are (blur and sobel image-gradient.)
I wrote the missing primitive operations in GEGL
(non-max-suppression, double-threshold, hysteresis)

Elsewhere, Canny is implemented in Python with numpy,
or in pure C but not using any other libraries such as GEGL/OpenCL,
or in C using openCL.
There are suprising many implementations.
Which I borrowed from.
Each implementation uses slightly different terms and algorithms.

### Hacked filters

The "hacked" directory contains filters originally from the GEGL repo.
Then hacked and built/installed separately under new names.

When you don't understand (or suspect a bug in) a GEGL filter,
you can hack it (harness it or change it)
and substitute the hacked version for the original version.

### AI using Copilot

Also an experiment using AI for coding.
Much of the code and comments were generated by Copilot.
I curated them, but they might be wrong.
I did not ensure the final code and comments are correct.

## Usage

After you build and install the set of plugins
(Canny and three primitives it needs)
then run GIMP and choose Tools>GEGL Operations.
You will see and you can test the Canny filter.

## Building

I build using Vagga and the vagga.yaml script in the repo.

To build without using Vagga containers,
read the vagga.yaml.
It documents the dependencies and meson commands.
